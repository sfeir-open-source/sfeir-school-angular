<form [formGroup]="peopleForm" (ngSubmit)="submit()" data-testid="person-form">
  <section class="form-container">
    @let people = person();
    <section class="form-container__image">
      <img width="100" height="100" [ngSrc]="people.photo" alt="person-photo" />
      <input type="hidden" name="photo" formControlName="photo" />
    </section>
    <section class="form-container__form">
      <sfeir-custom-input formControlName="firstname" inputType="text" inputPlaceholder="First name">
        @if (peopleForm.controls.firstname.errors?.['required']) {
        <mat-error>Ce champs est requis</mat-error>
        } @if (peopleForm.controls.firstname.errors?.['minlength']) {
        <mat-error>Ce champs doit posséder minimum 2 caractères</mat-error>
        }
      </sfeir-custom-input>
      <sfeir-custom-input formControlName="lastname" inputType="text" inputPlaceholder="Last name">
        @if (peopleForm.controls.lastname.errors?.['required']) {
        <mat-error>Ce champs est requis</mat-error>
        } @if (peopleForm.controls.lastname.errors?.['minlength']) {
        <mat-error>Ce champs doit posséder minimum 2 caractères</mat-error>
        }
      </sfeir-custom-input>
      <sfeir-custom-input formControlName="email" inputType="email" inputPlaceholder="email">
        @if (peopleForm.controls.email.errors?.['required']) {
        <mat-error>Ce champs est requis</mat-error>
        } @if (peopleForm.controls.email.errors?.['sfeirEmail'] && !peopleForm.controls.email.errors?.['required']) {
        <mat-error>Format non valid, format attendu: frizzarin.n&#64;sfeir.com</mat-error>
        }
      </sfeir-custom-input>
      <sfeir-custom-input *sfeirPhoneSecret="let type" formControlName="phone" [inputType]="type" inputPlaceholder="phone">
        @if (peopleForm.controls.phone.errors?.['required']) {
        <mat-error>Ce champs est requis</mat-error>
        } @if (peopleForm.controls.phone.errors?.['pattern']) {
        <mat-error>Format non valid, format attendu: 0123456789</mat-error>
        }
      </sfeir-custom-input>
    </section>
  </section>
  <div class="form-user-action">
    <button mat-button type="button" (click)="onCancel()">Cancel</button>
    <button mat-button color="primary" type="submit" [disabled]="peopleForm.invalid">Save</button>
  </div>
</form>
